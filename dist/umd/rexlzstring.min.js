!function(o,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n((o=o||self).rexlzstring={})}(this,(function(o){"use strict";var n,e=function(o,n,e){return o(e={path:n,exports:{},require:function(o,n){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==n&&e.path)}},e.exports),e.exports}((function(o){var n=function(){function o(o,n){if(!t[o]){t[o]={};for(var e=0;e<o.length;e++)t[o][o.charAt(e)]=e}return t[o][n]}var n=String.fromCharCode,e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",t={},s={compressToBase64:function(o){if(null==o)return"";var n=s._compress(o,6,(function(o){return e.charAt(o)}));switch(n.length%4){default:case 0:return n;case 1:return n+"===";case 2:return n+"==";case 3:return n+"="}},decompressFromBase64:function(n){return null==n?"":""==n?null:s._decompress(n.length,32,(function(r){return o(e,n.charAt(r))}))},compressToUTF16:function(o){return null==o?"":s._compress(o,15,(function(o){return n(o+32)}))+" "},decompressFromUTF16:function(o){return null==o?"":""==o?null:s._decompress(o.length,16384,(function(n){return o.charCodeAt(n)-32}))},compressToUint8Array:function(o){for(var n=s.compress(o),e=new Uint8Array(2*n.length),r=0,t=n.length;t>r;r++){var i=n.charCodeAt(r);e[2*r]=i>>>8,e[2*r+1]=i%256}return e},decompressFromUint8Array:function(o){if(null==o)return s.decompress(o);for(var e=new Array(o.length/2),r=0,t=e.length;t>r;r++)e[r]=256*o[2*r]+o[2*r+1];var i=[];return e.forEach((function(o){i.push(n(o))})),s.decompress(i.join(""))},compressToEncodedURIComponent:function(o){return null==o?"":s._compress(o,6,(function(o){return r.charAt(o)}))},decompressFromEncodedURIComponent:function(n){return null==n?"":""==n?null:(n=n.replace(/ /g,"+"),s._decompress(n.length,32,(function(e){return o(r,n.charAt(e))})))},compress:function(o){return s._compress(o,16,(function(o){return n(o)}))},_compress:function(o,n,e){if(null==o)return"";var r,t,s,i={},c={},p="",u="",a="",f=2,l=3,h=2,d=[],m=0,g=0;for(s=0;s<o.length;s+=1)if(p=o.charAt(s),Object.prototype.hasOwnProperty.call(i,p)||(i[p]=l++,c[p]=!0),u=a+p,Object.prototype.hasOwnProperty.call(i,u))a=u;else{if(Object.prototype.hasOwnProperty.call(c,a)){if(a.charCodeAt(0)<256){for(r=0;h>r;r++)m<<=1,g==n-1?(g=0,d.push(e(m)),m=0):g++;for(t=a.charCodeAt(0),r=0;8>r;r++)m=m<<1|1&t,g==n-1?(g=0,d.push(e(m)),m=0):g++,t>>=1}else{for(t=1,r=0;h>r;r++)m=m<<1|t,g==n-1?(g=0,d.push(e(m)),m=0):g++,t=0;for(t=a.charCodeAt(0),r=0;16>r;r++)m=m<<1|1&t,g==n-1?(g=0,d.push(e(m)),m=0):g++,t>>=1}0==--f&&(f=Math.pow(2,h),h++),delete c[a]}else for(t=i[a],r=0;h>r;r++)m=m<<1|1&t,g==n-1?(g=0,d.push(e(m)),m=0):g++,t>>=1;0==--f&&(f=Math.pow(2,h),h++),i[u]=l++,a=String(p)}if(""!==a){if(Object.prototype.hasOwnProperty.call(c,a)){if(a.charCodeAt(0)<256){for(r=0;h>r;r++)m<<=1,g==n-1?(g=0,d.push(e(m)),m=0):g++;for(t=a.charCodeAt(0),r=0;8>r;r++)m=m<<1|1&t,g==n-1?(g=0,d.push(e(m)),m=0):g++,t>>=1}else{for(t=1,r=0;h>r;r++)m=m<<1|t,g==n-1?(g=0,d.push(e(m)),m=0):g++,t=0;for(t=a.charCodeAt(0),r=0;16>r;r++)m=m<<1|1&t,g==n-1?(g=0,d.push(e(m)),m=0):g++,t>>=1}0==--f&&(f=Math.pow(2,h),h++),delete c[a]}else for(t=i[a],r=0;h>r;r++)m=m<<1|1&t,g==n-1?(g=0,d.push(e(m)),m=0):g++,t>>=1;0==--f&&(f=Math.pow(2,h),h++)}for(t=2,r=0;h>r;r++)m=m<<1|1&t,g==n-1?(g=0,d.push(e(m)),m=0):g++,t>>=1;for(;;){if(m<<=1,g==n-1){d.push(e(m));break}g++}return d.join("")},decompress:function(o){return null==o?"":""==o?null:s._decompress(o.length,32768,(function(n){return o.charCodeAt(n)}))},_decompress:function(o,e,r){var t,s,i,c,p,u,a,f=[],l=4,h=4,d=3,m="",g=[],v={val:r(0),position:e,index:1};for(t=0;3>t;t+=1)f[t]=t;for(i=0,p=Math.pow(2,2),u=1;u!=p;)c=v.val&v.position,v.position>>=1,0==v.position&&(v.position=e,v.val=r(v.index++)),i|=(c>0?1:0)*u,u<<=1;switch(i){case 0:for(i=0,p=Math.pow(2,8),u=1;u!=p;)c=v.val&v.position,v.position>>=1,0==v.position&&(v.position=e,v.val=r(v.index++)),i|=(c>0?1:0)*u,u<<=1;a=n(i);break;case 1:for(i=0,p=Math.pow(2,16),u=1;u!=p;)c=v.val&v.position,v.position>>=1,0==v.position&&(v.position=e,v.val=r(v.index++)),i|=(c>0?1:0)*u,u<<=1;a=n(i);break;case 2:return""}for(f[3]=a,s=a,g.push(a);;){if(v.index>o)return"";for(i=0,p=Math.pow(2,d),u=1;u!=p;)c=v.val&v.position,v.position>>=1,0==v.position&&(v.position=e,v.val=r(v.index++)),i|=(c>0?1:0)*u,u<<=1;switch(a=i){case 0:for(i=0,p=Math.pow(2,8),u=1;u!=p;)c=v.val&v.position,v.position>>=1,0==v.position&&(v.position=e,v.val=r(v.index++)),i|=(c>0?1:0)*u,u<<=1;f[h++]=n(i),a=h-1,l--;break;case 1:for(i=0,p=Math.pow(2,16),u=1;u!=p;)c=v.val&v.position,v.position>>=1,0==v.position&&(v.position=e,v.val=r(v.index++)),i|=(c>0?1:0)*u,u<<=1;f[h++]=n(i),a=h-1,l--;break;case 2:return g.join("")}if(0==l&&(l=Math.pow(2,d),d++),f[a])m=f[a];else{if(a!==h)return null;m=s+s.charAt(0)}g.push(m),f[h++]=s+m.charAt(0),s=m,0==--l&&(l=Math.pow(2,d),d++)}}};return s}();null!=o&&(o.exports=n)}));!function(o){o[o.none=0]="none",o[o.base64=1]="base64",o[o.utf16=2]="utf16",o[o.uri=3]="uri"}(n||(n={}));const r=["compress","compressToBase64","compressToUTF16","compressToEncodedURIComponent"],t=["decompress","decompressFromBase64","decompressFromUTF16","decompressFromEncodedURIComponent"];o.LZString=class{constructor({encoding:o=n.none}={}){this.setEncoding(o)}fromJSON({encoding:o=n.none}={}){return this.setEncoding(o),this}toJSON(){return{encoding:this.encoding}}setEncoding(o=n.none){return"string"==typeof o&&(o=n[o]||0),this.encoding=o,this}compress(o){let n=r[this.encoding];return e[n](o)}decompress(o){let n=t[this.encoding];return e[n](o)}}}));
